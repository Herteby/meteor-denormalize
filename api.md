## jeanfredrik:denormalize Public API ##

Provides simple methods for common denormalization tasks

_API documentation automatically generated by [docmeteor](https://github.com/raix/docmeteor)._

-

### <a name="collection.cacheDoc"></a>*collection*.cacheDoc(name, collection, fields, [options])&nbsp;&nbsp;<sub><i>Server</i></sub> ###

*This method __cacheDoc__ is defined in `collection`*

__Arguments__

* __name__ *{String}*  

 The name of the denormalization

* __collection__ *{[Mongo.Collection](#Mongo.Collection)}*  

 The target collection

* __fields__ *{[String[]](#String[])}*  

 An array of field names that should be copied from the original document in the target collection

* __options__ *{Object}*  (Optional)

 Defines the behavior of this denormalization

    * __cacheField__ *{String}*  (Optional)

    The name of the cached field in the main collection. Defaults to `name+'_id'`

    * __referenceField__ *{String}*  (Optional)

    The name of the reference field in the target collection. Defaults to `'_'+name`

    * __helper__ *{String|[false](#false)}*  (Optional)

    If the Collection Helpers package is installed a helper is created with this name. Defaults to `name`. Set to false if you don't want to create a helper.


__Returns__  *{undefined}*


When a document in the target collection is inserted/updated/removed this denormalization saves a copy of the document in the main collection. The reference field is on the main collection.

> ```Mongo.Collection.prototype.cacheDoc = function(name, collection, fields, options) { ...``` [methods/cacheDoc.js:15](methods/cacheDoc.js#L15)


-

### <a name="collection.cacheCount"></a>*collection*.cacheCount(cacheField, collection, referenceField)&nbsp;&nbsp;<sub><i>Server</i></sub> ###

*This method __cacheCount__ is defined in `collection`*

__Arguments__

* __cacheField__ *{String}*  

 The name of the cached field in the main collection.

* __collection__ *{[Mongo.Collection](#Mongo.Collection)}*  

 The target collection

* __referenceField__ *{String}*  

 The name of the reference field in the target collection.


__Returns__  *{undefined}*


When a document in the target collection is inserted/updated/removed this denormalization updates the count on the references document in the main collection. The reference field is on the target collection.

> ```Mongo.Collection.prototype.cacheCount = function(cacheField, collection, referenceField) { ...``` [methods/cacheCount.js:19](methods/cacheCount.js#L19)


-

### <a name="collection.cacheField"></a>*collection*.cacheField(cacheField, fields, value)&nbsp;&nbsp;<sub><i>Server</i></sub> ###

*This method __cacheField__ is defined in `collection`*

__Arguments__

* __cacheField__ *{String}*  

 The name of the cached field

* __fields__ *{[String[]](#String[])}*  

 An array of field names that should be copied from the original document in the target collection

* __value__ *{Function}*  

 A function that creates the new value. The function is called with two arguments:

    * __doc__ *{Object}*  

    The document that will be updated

    * __fields__ *{[String[]](#String[])}*  

    The watched fields


__Returns__  *{undefined}*


When a document in the collection is inserted/updated this denormalization updates the cached field with a value based on the same document

> ```Mongo.Collection.prototype.cacheField = function(cacheField, fields, value) { ...``` [methods/cacheField.js:13](methods/cacheField.js#L13)


